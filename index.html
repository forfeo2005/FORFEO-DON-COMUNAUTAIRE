<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forfeo - Impact Local</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <style>
        html { scroll-behavior: smooth; }
        body { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background-color: #0a192f; color: #ccd6f6; line-height: 1.6; overflow-x: hidden; }

        /* BANDEAU & HEADER */
        .top-banner { background: linear-gradient(90deg, #112240, #0d1f3a); color: #ccd6f6; text-align: center; padding: 12px; font-size: 0.9em; border-bottom: 1px solid #233554; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .highlight-neon { color: #64ffda; font-weight: 800; text-shadow: 0 0 10px rgba(100, 255, 218, 0.4); }
        
        /* ANIMATION FLASH BADGE */
        @keyframes flashAlert { 0% { transform: scale(1); box-shadow: 0 0 0 rgba(255, 189, 46, 0); } 50% { transform: scale(1.05); box-shadow: 0 0 15px rgba(255, 189, 46, 0.8); background: #ffbd2e; color: #000; } 100% { transform: scale(1); box-shadow: 0 0 0 rgba(255, 189, 46, 0); } }
        .badge-construction { background: #ffbd2e; color: #0a192f; padding: 4px 12px; border-radius: 4px; font-weight: bold; font-size: 0.85em; text-transform: uppercase; animation: flashAlert 2s infinite ease-in-out; border: 1px solid #ffbd2e; cursor: default; }

        header { display: flex; justify-content: space-between; align-items: center; padding: 15px 50px; background-color: rgba(10, 25, 47, 0.95); position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid #1f2f4d; }
        .logo-img { height: 50px; }
        nav { display: flex; gap: 20px; align-items: center; }
        nav a { color: #a8b2d1; text-decoration: none; font-weight: 500; transition: color 0.3s; font-size: 0.95em; }
        nav a:hover { color: #64ffda; }
        .btn-connexion { border: 1px solid #64ffda; color: #64ffda !important; padding: 8px 20px; border-radius: 4px; }

        /* HERO */
        .hero-section { padding: 100px 20px 60px; text-align: center; position: relative; }
        h1 { font-size: 3.5em; font-weight: 800; margin-bottom: 20px; color: #e6f1ff; }
        .highlight { background: linear-gradient(to right, #64ffda, #00bcd4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { font-size: 1.2em; color: #8892b0; max-width: 700px; margin: 0 auto 40px; }
        .boutons { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .btn { padding: 15px 25px; border-radius: 5px; text-decoration: none; font-weight: bold; }
        .btn-principal { background-color: #64ffda; color: #0a192f; }
        .btn-secondaire { border: 2px solid #64ffda; color: #64ffda; }
        .btn-shop { background: linear-gradient(135deg, #00bcd4, #64ffda); color: #0a192f; border: none; box-shadow: 0 0 15px rgba(100, 255, 218, 0.4); transition: transform 0.2s; }
        .btn-shop:hover { transform: scale(1.05); }
        @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(100, 255, 218, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(100, 255, 218, 0); } 100% { box-shadow: 0 0 0 0 rgba(100, 255, 218, 0); } }
        .btn-vote-anime { background-color: #112240; color: #64ffda; border: 2px solid #64ffda; padding: 15px 30px; border-radius: 50px; text-decoration: none; font-weight: bold; animation: pulse-green 2s infinite; }

        /* M√âTRIQUES */
        .metrics-banner { display: flex; justify-content: center; gap: 50px; padding: 30px 20px; background: rgba(100, 255, 218, 0.03); border-top: 1px solid #233554; border-bottom: 1px solid #233554; margin-bottom: 60px; flex-wrap: wrap; }
        .metric-box { text-align: center; }
        .metric-val { display: block; font-size: 2em; font-weight: bold; color: #e6f1ff; }
        .metric-label { font-size: 0.8em; color: #64ffda; text-transform: uppercase; }
        .beta-badge { background: #233554; color: #a8b2d1; padding: 2px 8px; border-radius: 4px; font-size: 0.6em; vertical-align: top; margin-left: 5px; }

        /* COMMENT √áA MARCHE */
        .steps-section { padding: 60px 20px; text-align: center; background-color: #0d1f3a; border-radius: 15px; margin: 40px 0; }
        .flex-container { display: flex; gap: 30px; justify-content: center; flex-wrap: wrap; max-width: 1100px; margin: 0 auto; }
        .flex-item { flex: 1; min-width: 280px; background: #112240; padding: 30px; border-radius: 10px; border: 1px solid #233554; transition: transform 0.3s; position: relative; display: flex; flex-direction: column; align-items: center; }
        .flex-item:hover { transform: translateY(-5px); border-color: #64ffda; }
        .step-icon { font-size: 3em; margin-bottom: 15px; display: block; }
        .btn-step-link { background-color: transparent; border: 1px solid #64ffda; color: #64ffda; padding: 8px 20px; border-radius: 20px; text-decoration: none; font-weight: bold; margin-top: 10px; display: inline-block; transition: all 0.3s; }
        .btn-step-link:hover { background-color: #64ffda; color: #0a192f; }

        /* MISSION CONTROL & NEWSLETTER */
        .launch-control { background: #112240; margin: 80px auto; max-width: 1000px; border-radius: 20px; padding: 50px 30px; border: 1px solid rgba(100, 255, 218, 0.1); position: relative; overflow: hidden; box-shadow: 0 0 50px rgba(0,0,0,0.3); }
        .launch-control::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: conic-gradient(from 0deg, transparent 0%, rgba(100, 255, 218, 0.05) 20%, transparent 40%); animation: radarSpin 10s linear infinite; pointer-events: none; }
        @keyframes radarSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .launch-header { text-align: center; position: relative; z-index: 2; margin-bottom: 30px; }
        .launch-header h3 { color: #e6f1ff; margin: 0; }
        .countdown-container { display: flex; justify-content: center; gap: 20px; margin-bottom: 40px; position: relative; z-index: 2; }
        .countdown-box { background: rgba(10, 25, 47, 0.9); border: 1px solid #64ffda; border-radius: 12px; width: 90px; height: 90px; display: flex; flex-direction: column; justify-content: center; align-items: center; box-shadow: 0 0 15px rgba(100, 255, 218, 0.2); }
        .count-number { font-size: 2em; font-weight: 800; color: #e6f1ff; }
        .count-label { font-size: 0.7em; color: #64ffda; text-transform: uppercase; margin-top: 5px; }
        .launch-cta { text-align: center; position: relative; z-index: 2; background: rgba(100, 255, 218, 0.05); padding: 20px; border-radius: 10px; display: inline-block; width: 100%; max-width: 500px; margin: 0 auto; display: block; border: 1px solid rgba(100, 255, 218, 0.1); }
        .newsletter-form { display: flex; gap: 10px; margin-top: 15px; justify-content: center; flex-wrap: wrap; }
        .newsletter-input { flex: 1; padding: 10px; border-radius: 5px; border: 1px solid #64ffda; background: #0a192f; color: #fff; min-width: 200px; }
        .newsletter-btn { background: #64ffda; color: #0a192f; border: none; padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        .newsletter-btn:hover { background: #fff; box-shadow: 0 0 15px #64ffda; }

        /* GALERIE */
        .gallery-section { padding: 60px 0; background: #0d1f3a; overflow: hidden; margin-top: 40px; }
        .gallery-intro { text-align: center; max-width: 800px; margin: 0 auto 30px; padding: 0 20px; }
        .marquee-wrapper { display: flex; flex-direction: column; gap: 20px; }
        .marquee { display: flex; overflow: hidden; }
        .marquee-content { display: flex; gap: 20px; animation: scroll 60s linear infinite; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .gallery-item { height: 180px; border-radius: 10px; border: 1px solid #233554; transition: transform 0.3s; }
        .gallery-link { transition: transform 0.3s; display: block; }
        .gallery-link:hover { transform: scale(1.05); }

        /* CARTE */
        .map-section { padding: 40px 20px 80px; background-color: #0a192f; display: flex; flex-direction: column; align-items: center; }
        .search-container { width: 100%; max-width: 600px; margin-bottom: 25px; z-index: 10; }
        .map-search-bar { display: flex; background: rgba(10, 25, 47, 0.95); border: 1px solid #64ffda; border-radius: 50px; padding: 5px; box-shadow: 0 5px 25px rgba(100, 255, 218, 0.15); }
        .map-input { flex: 1; background: transparent; border: none; color: #fff; padding: 10px 20px; font-size: 1em; outline: none; }
        .map-btn { background: #64ffda; color: #0a192f; border: none; padding: 10px 30px; border-radius: 50px; cursor: pointer; font-weight: bold; transition: background 0.3s; }
        .map-btn:hover { background: #4cdbb3; }
        #map { height: 500px; width: 100%; max-width: 1000px; border-radius: 15px; border: 2px solid #64ffda; box-shadow: 0 20px 50px rgba(0,0,0,0.6); z-index: 1; display: block; }
        .custom-pin { background: linear-gradient(135deg, #64ffda, #00bcd4); width: 26px; height: 26px; border-radius: 50% 50% 50% 0; transform: rotate(-45deg); display: flex; justify-content: center; align-items: center; border: 2px solid #fff; margin-top: -15px; box-shadow: 2px 2px 5px rgba(0,0,0,0.5); }
        .custom-pin::after { content: ''; width: 10px; height: 10px; background-color: #0a192f; border-radius: 50%; }

        footer { text-align: center; padding: 40px; border-top: 1px solid #1f2f4d; color: #8892b0; }
        @media (max-width: 768px) { header { flex-direction: column; } .boutons { flex-direction: column; } .top-banner { flex-direction: column; } }
    </style>
</head>
<body>

    <div class="top-banner">
        <span>‚ú® Nouveau visage solidaire : <span class="highlight-neon">1 % pour le Qu√©bec !</span></span>
        <span class="badge-construction">üöß Site en construction - Vision 2026</span>
    </div>

    <header>
        <a href="index.html"><img src="logo.png" alt="Logo Forfeo" class="logo-img"></a>
        <nav>
            <a href="apropos.html">√Ä Propos</a>
            <a href="causes.html">Causes</a>
            <a href="#comment-ca-marche">Comment √ßa marche</a>
            <a href="vote.html">Vote</a>
            <a href="partenaires.html">Espace Organismes</a>
            <a href="connexion.html" class="btn-connexion">Connexion</a>
        </nav>
    </header>

    <main>
        <section class="hero-section">
            <div class="firefly f1"></div><div class="firefly f2"></div><div class="firefly f3"></div>
            <h1>Ensemble, pour un impact<br><span class="highlight">local durable</span></h1>
            <p class="subtitle">Chez Forfeo, chaque exp√©rience que vous vivez contribue directement √† soutenir les communaut√©s du Qu√©bec.</p>
            <div class="boutons">
                <a href="causes.html" class="btn btn-principal">D√©couvrir les causes</a>
                <a href="vote.html" class="btn btn-vote-anime">üó≥Ô∏è Voter pour la cause du mois</a>
                <a href="https://isow.forfeo.com/giftcards" class="btn btn-shop" target="_blank">üéÅ Offrir un forfait</a>
            </div>
        </section>

        <div class="metrics-banner">
            <div class="metric-box"><span class="metric-val">100%</span><span class="metric-label">Qu√©b√©cois</span></div>
            <div class="metric-box"><span class="metric-val">40+ <span class="beta-badge">Cible</span></span><span class="metric-label">Organismes</span></div>
            <div class="metric-box"><span class="metric-val">1%</span><span class="metric-label">Des B√©n√©fices Forfeo</span></div>
        </div>

        <section id="comment-ca-marche" class="steps-section">
            <h2 style="color:#e6f1ff; font-size:2.5em; margin-bottom:40px;">Comment √ßa marche ?</h2>
            <div class="flex-container">
                <div class="flex-item">
                    <span class="step-icon">üéØ</span>
                    <h3 style="color: #e6f1ff;">1. Choisissez</h3>
                    <p style="color: #a8b2d1;">Achetez votre forfait sur notre boutique.</p>
                    <a href="https://isow.forfeo.com/giftcards" target="_blank" class="btn-step-link">Visiter Forfeo.com</a>
                </div>
                <div class="flex-item">
                    <span class="step-icon">‚ù§Ô∏è</span>
                    <h3 style="color: #e6f1ff;">2. Soutenez</h3>
                    <p style="color: #a8b2d1;"><b>Forfeo</b> reverse 1% de ses propres b√©n√©fices √† la cagnotte.</p>
                </div>
                <div class="flex-item">
                    <span class="step-icon">üèÜ</span>
                    <h3 style="color: #e6f1ff;">3. Gagnez</h3>
                    <p style="color: #a8b2d1;">Vous √™tes inscrit automatiquement aux concours exclusifs.</p>
                </div>
            </div>
        </section>

        <section class="launch-control">
            <div class="launch-header">
                <p>üöÄ En route vers l'impact</p>
                <h3>Le compte √† rebours est lanc√©</h3>
            </div>
            <div class="countdown-container" id="countdown">
                <div class="countdown-box"><span class="count-number" id="days">00</span><span class="count-label">Jours</span></div>
                <div class="countdown-box"><span class="count-number" id="hours">00</span><span class="count-label">Heures</span></div>
                <div class="countdown-box"><span class="count-number" id="minutes">00</span><span class="count-label">Min</span></div>
                <div class="countdown-box"><span class="count-number" id="seconds">00</span><span class="count-label">Sec</span></div>
            </div>
            <div class="launch-cta">
                <h4 style="color:#e6f1ff; margin-top:0;">üîî Restez inform√©s du lancement</h4>
                <form action="https://api.web3forms.com/submit" method="POST" class="newsletter-form">
                    <input type="hidden" name="access_key" value="c7c665be-ec7f-4455-9a5e-11ebb323fff9">
                    <input type="hidden" name="redirect" value="https://forfeo2005.github.io/FORFEO-DON-COMUNAUTAIRE/merci-newsletter.html">
                    <input type="email" name="email" class="newsletter-input" placeholder="Votre courriel" required>
                    <button type="submit" class="newsletter-btn">M'inscrire</button>
                </form>
            </div>
        </section>

        <section id="galerie-forfeens" class="gallery-section">
            <div class="gallery-intro"><h2 style="margin-bottom: 20px; color:#e6f1ff; font-size:2em;">La communaut√© Forfeo en action</h2></div>
            <div class="marquee-wrapper">
                <div class="marquee">
                    <div class="marquee-content">
                        <a href="videos.html" class="gallery-link"><img src="https://placehold.co/300x200/112240/64ffda?text=Spa+Experience" class="gallery-item"></a>
                        <a href="videos.html" class="gallery-link"><img src="https://placehold.co/300x200/112240/64ffda?text=Resto+Chic" class="gallery-item"></a>
                        <a href="videos.html" class="gallery-link"><img src="https://placehold.co/300x200/112240/64ffda?text=Nature+Quebec" class="gallery-item"></a>
                        <a href="videos.html" class="gallery-link"><img src="https://placehold.co/300x200/112240/64ffda?text=Hotel+Luxe" class="gallery-item"></a>
                        <a href="videos.html" class="gallery-link"><img src="https://placehold.co/300x200/112240/64ffda?text=Spa+Experience" class="gallery-item"></a>
                    </div>
                </div>
            </div>
        </section>

        <section class="map-section">
            <h2 style="margin-bottom:20px; color:#e6f1ff; font-size:2.5em;">Carte de l'Impact Social</h2>
            <div class="search-container">
                <div class="map-search-bar">
                    <input type="text" id="mapSearch" class="map-input" placeholder="Trouver un organisme..." onkeypress="if(event.key==='Enter') searchMap()">
                    <button class="map-btn" onclick="searchMap()">Chercher</button>
                </div>
            </div>
            <div id="map"></div>
        </section>
    </main>
    
    <footer><p>&copy; 2025 Forfeo. Fait avec passion au Qu√©bec.<br><a href="confidentialite.html" style="color: #64ffda;">Politique de confidentialit√©</a></p></footer>

    <script>
        // 1. COMPTEUR
        const targetDate = new Date("June 1, 2026 00:00:00").getTime();
        setInterval(function() {
            const now = new Date().getTime();
            const d = targetDate - now;
            if(d > 0) {
                document.getElementById("days").innerText = Math.floor(d / (1000 * 60 * 60 * 24));
                document.getElementById("hours").innerText = Math.floor((d % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                document.getElementById("minutes").innerText = Math.floor((d % (1000 * 60 * 60)) / (1000 * 60));
                document.getElementById("seconds").innerText = Math.floor((d % (1000 * 60)) / 1000);
            }
        }, 1000);

        // 2. CARTE (ANONYME)
        var map = L.map('map').setView([46.8139, -71.2080], 6); 
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', { attribution: '&copy; OpenStreetMap &copy; CARTO', subdomains: 'abcd', maxZoom: 19 }).addTo(map);
        var pinIcon = L.divIcon({ className: 'custom-pin-container', html: "<div class='custom-pin'></div>", iconSize: [30, 42], iconAnchor: [15, 42], popupAnchor: [0, -40] });

        var impactPoints = [
            { "nom": "Partenaire Alimentaire (Qu√©bec)", "lat": 46.8139, "lon": -71.2080, "desc": "Lutte contre la faim.", "url": "#" },
            { "nom": "Aide Jeunesse (Montr√©al)", "lat": 45.5186, "lon": -73.5540, "desc": "Soutien aux jeunes.", "url": "#" },
            { "nom": "Refuge Animalier (Estrie)", "lat": 45.4042, "lon": -71.8929, "desc": "Protection animale.", "url": "#" },
            { "nom": "Banque Alimentaire (Montr√©al)", "lat": 45.5017, "lon": -73.5673, "desc": "Aide alimentaire.", "url": "#" },
            { "nom": "Centre Femmes (Charlevoix)", "lat": 47.6259, "lon": -70.3622, "desc": "Soutien femmes.", "url": "#" }
        ];

        impactPoints.forEach(point => {
            let popup = `<b style="color:#0a192f; font-size:1.1em;">${point.nom}</b><br>${point.desc}`;
            L.marker([point.lat, point.lon], { icon: pinIcon }).addTo(map).bindPopup(popup);
        });

        function searchMap() {
            var input = document.getElementById('mapSearch').value.toLowerCase();
            if(!input) return;
            var found = impactPoints.find(p => p.nom.toLowerCase().includes(input));
            if(found) {
                map.flyTo([found.lat, found.lon], 13, { duration: 2 });
                setTimeout(() => {
                    let popup = `<b style="color:#0a192f">${found.nom}</b><br>${found.desc}`;
                    L.popup().setLatLng([found.lat, found.lon]).setContent(popup).openOn(map);
                }, 2000);
            } else { alert("Lieu non trouv√©. Essayez 'Alimentaire'."); }
        }
    </script>
    <script src="forfy.js"></script>
</body>
</html>
